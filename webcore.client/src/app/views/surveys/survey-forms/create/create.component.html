<h3 class="fw-bold">Create Survey form</h3>
<c-card>
    <c-card-body>
        <form cForm [formGroup]="createForm" (ngSubmit)="onSubmit()">
            <div class="d-flex mb-2">
                <c-form-check class="me-4">
                    <label cFormCheckLabel for="isActive">Is Active</label>
                    <input cFormCheckInput id="isActive" type="checkbox" formControlName="isActive" />
                </c-form-check>
                <c-form-check>
                    <label cFormCheckLabel for="isLimited">Is Limited</label>
                    <input cFormCheckInput id="isLimited" type="checkbox" formControlName="isLimited" />
                </c-form-check>
            </div>
            <div class="mb-2 row">
                <div class="col-3">
                    <label cLabel for="storeId">Select Store: </label>
                    <select cFormControl formControlName="storeId" cSelect>
                        <option value="-1">--Select store--</option>
                        @for (item of storeList; track item.id; let i = $index) {
                        <option [value]="item.id">{{item.name}}</option>
                        }
                    </select>
                </div>
                <div class="col-3">
                    <label cLabel for="formStyleId">Form Style: <span class="text-danger">(*)</span></label>
                    <select cFormControl formControlName="formStyleId" cSelect>
                        <option value="1">Gold Form</option>
                        <option value="2">Silver Form</option>
                    </select>
                    @if (formStyleId?.invalid && (formStyleId?.dirty || formStyleId?.touched)) {
                    <div class="text-danger">
                        @if (formStyleId?.hasError('required')) {
                        <div>Select Form Style, please!</div>
                        }
                    </div>
                    }
                </div>
                @if(isLimited?.value === true) {
                <div class="col-6">
                    <label cLabel for="maxParticipants">Max Participants: <span class="text-danger">(*)</span></label>
                    <input cFormControl formControlName="maxParticipants" type="number" min="0" />
                    @if (maxParticipants?.invalid && (maxParticipants?.dirty || maxParticipants?.touched)) {
                    <div class="text-danger">
                        @if (maxParticipants?.hasError('required')) {
                        <div>Enter Max Participants, please!</div>
                        }
                    </div>
                    }
                </div>
                }
            </div>
            <div class="mb-2 row">
                <div class="col-6">
                    <label cLabel for="name">Name: <span class="text-danger">(*)</span></label>
                    <input cFormControl formControlName="name" type="text" />
                    @if (name?.invalid && (name?.dirty || name?.touched)) {
                    <div class="text-danger">
                        @if (name?.hasError('required')) {
                        <div>Enter Name, please!</div>
                        }
                    </div>
                    }
                </div>
                <div class="col-6">
                    <label cLabel>Start - End Date: <span class="text-danger">(*)</span></label>
                    <app-range-datetime-picker (onChangeValue)="onDateRangeChange($event)"></app-range-datetime-picker>
                </div>
            </div>
            <div class="mb-2 row">
                <div class="col-6">
                    <label cLabel for="titleEN">TitleEN: <span class="text-danger">(*)</span></label>
                    <input cFormControl formControlName="titleEN" type="text" />
                    @if (titleEN?.invalid && (titleEN?.dirty || titleEN?.touched)) {
                    <div class="text-danger">
                        @if (titleEN?.hasError('required')) {
                        <div>Enter TitleEN, please!</div>
                        }
                    </div>
                    }
                </div>
                <div class="col-6">
                    <label cLabel for="titleVN">TitleVN: <span class="text-danger">(*)</span></label>
                    <input cFormControl formControlName="titleVN" type="text" />
                    @if (titleVN?.invalid && (titleVN?.dirty || titleVN?.touched)) {
                    <div class="text-danger">
                        @if (titleVN?.hasError('required')) {
                        <div>Enter TitleVN, please!</div>
                        }
                    </div>
                    }
                </div>
            </div>
            <div class="mb-2 row">
                <div class="col-6">
                    <label cLabel for="descriptionEN">DescriptionEN:</label>
                    <!-- <textarea cFormControl formControlName="descriptionEN" rows="3"></textarea> -->
                    <app-text-editor (contentChange)="createForm.patchValue({descriptionEN: $event})"
                        [toolbar]="customToolbar" placeholder="Simple editor with limited toolbar...">
                    </app-text-editor>
                </div>
                <div class="col-6">
                    <label cLabel for="descriptionVN">DescriptionVN:</label>
                    <app-text-editor (contentChange)="createForm.patchValue({descriptionVN: $event})"
                        [toolbar]="customToolbar" placeholder="Simple editor with limited toolbar...">
                    </app-text-editor>
                </div>
            </div>
            <div class="d-flex justify-content-end mt-4">
                <button cButton type="submit" [disabled]="!createForm.valid">
                    <svg [cIcon]="icons.cilSave" width="25" class="text-white" title="Save Icon"></svg>

                </button>
                <a cButton type="button" routerLink="/surveys/survey-forms" class="ms-2 btn-info">
                    <svg [cIcon]="icons.cilExitToApp" width="25" class="text-white" title="Close Icon"></svg>
                </a>
            </div>
        </form>
        <!-- <app-create-helper #createHelperComponent></app-create-helper> -->
        <!-- Button Submit Creation Form -->

    </c-card-body>
</c-card>