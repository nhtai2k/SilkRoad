<div class="loginContainer">
  <div class="mask"></div>
  <app-particle-canvas [id]="'loginAnimation'"></app-particle-canvas>
  <div class="formSubmit">
    <form [formGroup]="loginForm" class="fromContainer" (ngSubmit)="onSubmit()">
      <h1 class="text-center title">
        Sign In
      </h1>
      @if (errorMessage) {
      <div class="text-danger mb-2">
        {{ errorMessage }}
      </div>
      }
      <span class="mb-1">Username:</span>

      <c-input-group>
        <span cInputGroupText>
          <svg cIcon name="cilUser"></svg>
        </span>
        <input formControlName="username" cFormControl placeholder="Enter username..." />
      </c-input-group>
      @if (username?.invalid && (username?.dirty || username?.touched)) {
      <div class="text-danger">
        @if (username?.hasError('required')) {
        <div>
          Enter UserName, please!
        </div>
        }
      </div>
      }

      <span class="mb-1 mt-2">Password:</span>

      <c-input-group class="position-relative">
        <span cInputGroupText>
          <svg cIcon name="cilLockLocked"></svg>
        </span>
        <div style="z-index: 10;" (click)="ShowPassword()">
          @if (showPassword) {
          <app-eye-icon class="eyeIcon"></app-eye-icon>
          }
          @if (!showPassword) {
          <app-eye-close-icon class="eyeIcon"></app-eye-close-icon>
          }
        </div>
        <input formControlName="password" cFormControl id="password" placeholder="Enter password..." type="password" />
      </c-input-group>
      @if (password?.invalid && (password?.dirty || password?.touched)) {
      <div class="text-danger mb-2">
        @if (password?.hasError('required')) {
        <div>
          Enter Password, please!
        </div>
        }
      </div>
      }
      <div class="mb-4 mt-2 row">
        <div class="col-6">
          <c-form-check class="mb-4 mt-2">
            <input formControlName="rememberMe" cFormCheckInput id="remember" type="checkbox" class="me-2" />
            <label cFormCheckLabel for="remember">Remember me</label>
          </c-form-check>
        </div>
        <div class="col-6">
          <a routerLink="/recover-password" class="forgotPassword float-end">Forgot password?</a>
        </div>
      </div>
      <button cButton type="submit" class="px-4 mb-4 w-100 text-uppercase btn btn-submit"
        [disabled]="!loginForm.valid">Login</button>
      <div class="pt-4 googleSignIn">
        <!-- <button cButton type="button" class="px-4 w-100 btn googleBtn" (click)="signInWithGoogle()">
          <svg width="23px" height="23px" viewBox="-3 0 262 262" xmlns="http://www.w3.org/2000/svg"
            preserveAspectRatio="xMidYMid" fill="#000000">
            <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
            <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
            <g id="SVGRepo_iconCarrier">
              <path
                d="M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027"
                fill="#4285F4"></path>
              <path
                d="M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1"
                fill="#34A853"></path>
              <path
                d="M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782"
                fill="#FBBC05"></path>
              <path
                d="M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251"
                fill="#EB4335"></path>
            </g>
          </svg>
          Or sign in with Google</button> -->
            <asl-google-signin-button
      type="standard"
      size="large"
      text="signin_with"
      theme="filled_black">
    </asl-google-signin-button>
      </div>
    </form>
  </div>
</div>