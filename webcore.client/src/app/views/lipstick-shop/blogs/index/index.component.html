<h1>Blog List</h1>
<div class="d-flex justify-content-between my-2">
    <div class="d-flex align-items-center">
        <span class="me-2">Filter: </span>
        <select class="form-control" id="slideTheme" cSelect (change)="filter($event)">
          <option value="-1">All</option>
          @for (item of topicList; track item.id) {
            <option [value]="item.id">{{ item.nameEN }}</option>
          }
        </select>
      </div>
  <button routerLink="./create" class="btn btn-success">
     <svg [cIcon]="icons.cilPlus" width="25" class="text-white" title="Plus Icon"></svg> 
  </button>
</div>
<app-data-table [data]="pageInformation"
(changePageIndex)="onPageIndexChange($event)" (changePageSize)="onPageSizeChange($event)">
<thead class="text-nowrap text-truncate">
  <tr>
    <th scope="col">STT</th>
    <th scope="col">Avatar</th>
    <th scope="col">SubjectEN</th>
    <th scope="col">SubjectVN</th>
    <th scope="col">Active</th>
    <th></th>
  </tr>
</thead>
<tbody>
  @for (item of data.items; track item.id; let i = $index) {
    <tr>
        <td>{{ i+1 }}</td>
        <td>
          @if (item.avatar) {
            <img [src]="baseUrl+item.avatar" alt="image" class="img-thumbnail" style="width: 100px; height: auto;">
          }
        </td>
        <td>
          <span class="limit-text">
            {{ item.subjectEN }}
          </span>
        </td>
        <td>
          <span class="limit-text">
            {{ item.subjectVN }}
          </span>
        </td>
        <td>{{ item.isActive }}</td>
        <td>
          <div class="d-flex justify-content-end">
            <button routerLink="./update/{{item.id}}" class="btn btn-primary me-2">
               <svg [cIcon]="icons.cilPen" width="25" class="text-white" title="Edit Icon"></svg>
            </button>
            <button (click)="deleteData(item.id)" class="btn btn-danger">
               <svg [cIcon]="icons.cilTrash" width="25" class="text-white" title="Trash Icon"></svg>
            </button>
          </div>
        </td>
    </tr>
  }
</tbody>
</app-data-table>


<!--Delete Model-->
<c-modal backdrop="static"  [visible]="visibleDelete" (visibleChange)="handleLiveDeleteChange($event)" id="verticallyCenteredDelete">
  <c-modal-header>
    <h5 cModalTitle>Confirmation</h5>
    <button (click)="toggleLiveDelete()" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <p>Are you sure you want to delete this category?</p>
  </c-modal-body>
  <c-modal-footer>
    <button (click)="toggleLiveDelete()" cButton color="secondary">
      Close
    </button>
    <button cButton color="primary">Confirm</button>
  </c-modal-footer>
</c-modal>