<div class="chat-container">
  <div class="messages">
    @for (message of messages; track message.sender; let i = $index) {
      <div [ngClass]="{'user-message': message.sender === 'User', 'bot-message': message.sender === 'Bot'}">
        <strong class="me-2">{{ message.sender }}:</strong> 
        @if (i != index) {
          <span [innerHTML]="message.text"></span>
        }
        @if (i == index) {
          <span [innerHTML]="text"></span>
        }
      </div>
    }
    @if (loading) {
      <div class="loading">Bot is typing...</div>
    }
  </div>
  <div class="input-container">
    <input [(ngModel)]="userInput" placeholder="Type your message..." (keyup.enter)="sendMessage()"/>
    <button (click)="sendMessage()">Send</button>
  </div>
</div>
