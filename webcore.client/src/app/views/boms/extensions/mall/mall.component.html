<h3>Danh Sách Trung Tâm Thương Mại</h3>
<div class="d-flex justify-content-end mb-2">
  <button (click)="toggleLiveTrashModal()" class="btn btn-warning me-2">
    <svg [cIcon]="icons.cilTrash" width="25" class="text-white" title="Trash Icon"></svg>
  </button>
  <button (click)="toggleLiveCreateModel()" class="btn btn-success">
    <svg [cIcon]="icons.cilPlus" width="25" class="text-white" title="Plus Icon"></svg>
  </button>
</div>
<app-data-table [data]="pageInformation" [striped]="false" (changePageIndex)="onPageIndexChange($event)"
  (changePageSize)="onPageSizeChange($event)">
  <thead class="text-nowrap text-truncate">
    <tr>
      <th scope="col">STT</th>
            <th scope="col">Hình Ảnh</th>
      <th scope="col">Tên</th>
      <th scope="col">Hoạt Động</th>
      <th scope="col">Tạo Bởi</th>
      <th scope="col">Cập Nhật Bởi</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <ng-container *ngFor="let item of data.items; index as i ">
      <tr>
        <td>{{ i+1 }}</td>
        <td>
        <ng-container *ngIf="item.imagePath">
          <img [src]="baseUrl + item.imagePath" alt="Logo" class="img-thumbnail">
        </ng-container>
      </td>
        <td>{{ item.name }}</td>
        <td>{{ item.isActive }}</td>
        <td>{{ item.createdBy }}</td>
        <td>{{ item.modifiedBy }}</td>
        <td>
          <div class="d-flex justify-content-end">
             <button (click)="showSubItems(item.id)" class="btn btn-info me-2" *ngIf="(item?.locations?.length ?? 0) > 0">
              <svg [cIcon]="icons.cilBook" width="25" class="text-white" title="Book Icon"></svg>
            </button>
            <button (click)="toggleLiveCreateLocationModel(item.id)" class="btn btn-success me-2">
              <svg [cIcon]="icons.cilPlus" width="25" class="text-white" title="Plus Icon"></svg>
            </button>
            <button (click)="updateData(item.id)"
              class="btn btn-primary {{ (item?.locations?.length ?? 0) <= 0 ? 'me-2' : '' }}">
              <svg [cIcon]="icons.cilPen" width="25" class="text-white" title="Edit Icon"></svg>
            </button>
            <button (click)="softDeleteData(item.id)" class="btn btn-danger" *ngIf="(item?.locations?.length ?? 0) <= 0">
              <svg [cIcon]="icons.cilTrash" width="25" class="text-white" title="Delete Icon"></svg>
            </button>
          </div>
        </td>
      </tr>
      <tr *ngIf="item.locations && item.locations.length > 0">
        <td colspan="7" class="p-0">
          <div [visible]="visibleSubItems()[item.id]" cCollapse>
            <c-card class="border-0 shadow-none ps-4 mb-2">
                   <app-location
                [data]="item?.locations ?? []" 
                [toggleLiveCreateModel]="toggleLiveCreateModelWrapper" 
                [updateData]="updateDataWrapper"
                [softDeleteData]="softDeleteDataWrapper" 
                [icons]="icons"></app-location>
            </c-card>
          </div>
        </td>
      </tr>
    </ng-container>
  </tbody>
</app-data-table>
<!-- Trash Modal -->
<c-modal backdrop="static" [visible]="visibleTrashModal" (visibleChange)="handleLiveTrashModalChange($event)"
  id="verticallyCenteredTrashModal" size="lg">
  <c-modal-header>
    <h5 cModalTitle>Thùng Rác</h5>
    <button (click)="toggleLiveTrashModal()" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <h3 class="mt-4" *ngIf="trashData.items.length > 0">TT Thương Mại</h3>
    <app-data-table [data]="trashPageInformation" (changePageIndex)="onTrashPageIndexChange($event)"
      (changePageSize)="onTrashPageSizeChange($event)">
      <thead class="text-nowrap text-truncate">
        <tr>
          <th scope="col">STT</th>
          <th scope="col">Tên</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of trashData.items; index as i ">
          <td>{{ i+1 }}</td>
          <td>{{ item.name }}</td>
          <td>
            <div class="d-flex justify-content-end">
              <button (click)="restoreData(item.id)" class="btn btn-success me-2">
                <svg [cIcon]="icons.cilLoopCircular" width="25" class="text-white" title="Restore Icon"></svg>
              </button>
              <button (click)="deleteDataTrash(item.id)" class="btn btn-danger">
                <svg [cIcon]="icons.cilTrash" width="25" class="text-white" title="Delete Icon"></svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </app-data-table>
    <h3 class="mt-4" *ngIf="trashLocationData.items.length > 0">Vị Trí</h3>
    <app-data-table [data]="trashLocationData" (changePageIndex)="onTrashLocationPageIndexChange($event)"
      (changePageSize)="onTrashLocationPageSizeChange($event)">
      <thead class="text-nowrap text-truncate">
        <tr>
          <th scope="col">STT</th>
          <th scope="col">Tên</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of trashLocationData.items; index as i ">
          <td>{{ i+1 }}</td>
          <td>{{ item.name }}</td>
          <td>
            <div class="d-flex justify-content-end">
              <button (click)="restoreLocationData(item.id)" class="btn btn-success me-2">
                <svg [cIcon]="icons.cilLoopCircular" width="25" class="text-white" title="Restore Icon"></svg>
              </button>
              <button (click)="deleteLocationDataTrash(item.id)" class="btn btn-danger">
                <svg [cIcon]="icons.cilTrash" width="25" class="text-white" title="Delete Icon"></svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </app-data-table>
    <h3 class="mt-4" *ngIf="trashAreaData.items.length > 0">Khu Vực</h3>
    <app-data-table [data]="trashAreaData" (changePageIndex)="onTrashAreaPageIndexChange($event)"
      (changePageSize)="onTrashAreaPageSizeChange($event)">
      <thead class="text-nowrap text-truncate">
        <tr>
          <th scope="col">STT</th>
          <th scope="col">Tên</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of trashAreaData.items; index as i ">
          <td>{{ i+1 }}</td>
          <td>{{ item.name }}</td>
          <td>
            <div class="d-flex justify-content-end">
              <button (click)="restoreAreaData(item.id)" class="btn btn-success me-2">
                <svg [cIcon]="icons.cilLoopCircular" width="25" class="text-white" title="Restore Icon"></svg>
              </button>
              <button (click)="deleteAreaDataTrash(item.id)" class="btn btn-danger">
                <svg [cIcon]="icons.cilTrash" width="25" class="text-white" title="Delete Icon"></svg>
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </app-data-table>
    <div class="d-flex justify-content-center" *ngIf="trashData.items.length === 0 && trashAreaData.items.length === 0 && trashLocationData.items.length === 0">
      <h3 class="opacity-75">Không có dữ liệu!</h3>

    </div>
  </c-modal-body>
</c-modal>
<!-- Create Mall Modal -->
<c-modal backdrop="static" [visible]="visibleCreateModal" (visibleChange)="handleLiveCreateModelChange($event)"
  id="verticallyCenteredCreateModal" size="lg">
  <c-modal-header>
    <h5 cModalTitle>Thêm Trung Tâm Thương Mại</h5>
    <button (click)="toggleLiveCreateModel()" cButtonClose></button>
  </c-modal-header>
  <form cForm [formGroup]="createForm" (ngSubmit)="onSubmitCreateForm()">
    <c-modal-body>
      <div class="mb-2 d-flex flex-row">
        <c-form-check class="me-2 d-flex align-items-center">
          <input cFormCheckInput formControlName="isActive" id="isActive" class="me-2" type="checkbox" />
          <label cFormCheckLabel for="isActive" class="me-2" i18n="@@active">Hoạt Động </label>
        </c-form-check>
      </div>
      <div class="mb-2 row">
                <div class="col-6">
          <label cLabel for="code">Mã: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="code">
          <div *ngIf="codeCreateForm?.invalid && (codeCreateForm?.dirty || codeCreateForm?.touched)"
            class="text-danger">
            <div *ngIf="codeCreateForm?.hasError('required')">
              Code is required.
            </div>
          </div>
        </div>
        <div class="col-6">
          <label cLabel for="name">Tên: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="name">
          <div *ngIf="nameCreateForm?.invalid && (nameCreateForm?.dirty || nameCreateForm?.touched)"
            class="text-danger">
            <div *ngIf="nameCreateForm?.hasError('required')">
              Name is required.
            </div>
          </div>
        </div>
        <div class="mb-2">
          <label cLabel for="note">Ghi Chú: </label>
          <textarea cFormControl formControlName="note" rows="3"></textarea>
          <div *ngIf="noteCreateForm?.invalid && (noteCreateForm?.dirty || noteCreateForm?.touched)"
            class="text-danger">
            <div *ngIf="noteCreateForm?.hasError('maxlength')">
              Maximum 500 characters.
            </div>
          </div>
        </div>
                <div class="mb-2">
          <label cLabel for="note">Hình Ảnh:</label>
          <input class="d-none"  id="createUploadImage" type="file"  accept="image/*" (change)="onChangeUploadImage($event,'create')" />
          <div class="mt-2 reviewImage" (click)="openFileInput('create')">
            <ng-container *ngIf="!reviewCreateUploadImage">
              <svg [cIcon]="icons.cilCloudUpload" width="140" title="Shield Icon"></svg>
            </ng-container>
            <div  *ngIf="reviewCreateUploadImage" [innerHTML]="reviewCreateUploadImage" class="w-100 h-100 d-flex justify-content-center align-items-center"></div>
          </div>
        </div>
      </div>
    </c-modal-body>
    <c-modal-footer>
      <button (click)="toggleLiveCreateModel()" cButton color="secondary" i18n="@@close">
        Đóng
      </button>
      <button cButton type="submit" [disabled]="!createForm.valid" color="primary">Lưu</button>
    </c-modal-footer>
  </form>
</c-modal>
<!--Update Mall Model-->
<c-modal backdrop="static" [visible]="visibleUpdateModal" (visibleChange)="handleLiveUpdateModelChange($event)"
  id="verticallyCenteredUpdateModal" size="lg">
  <c-modal-header>
    <h5 cModalTitle>Cập Nhật Xóa Trung Tâm Thương Mại</h5>
    <button (click)="toggleLiveUpdateModel()" cButtonClose></button>
  </c-modal-header>
  <form cForm [formGroup]="updateForm" (ngSubmit)="onSubmitUpdateForm()">
    <c-modal-body>
      <div class="mb-2 d-flex flex-row">
        <c-form-check class="me-2 d-flex align-items-center">
          <input cFormCheckInput formControlName="isActive" id="isActive" class="me-2" type="checkbox" />
          <label cFormCheckLabel for="isActive" class="me-2" i18n="@@active">Hoạt Động </label>
        </c-form-check>
      </div>
      <div class="mb-2 row">
                <div class="col-6">
          <label cLabel for="code">Mã: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="code">
          <div *ngIf="codeUpdateForm?.invalid && (codeUpdateForm?.dirty || codeUpdateForm?.touched)"
            class="text-danger">
            <div *ngIf="codeUpdateForm?.hasError('required')">
              Code is required.
            </div>
          </div>
        </div>
        <div class="col-6">
          <label cLabel for="name">Tên: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="name">
          <div *ngIf="nameUpdateForm?.invalid && (nameUpdateForm?.dirty || nameUpdateForm?.touched)"
            class="text-danger">
            <div *ngIf="nameUpdateForm?.hasError('required')">
              Name is required.
            </div>
          </div>
        </div>
        <div class="mb-2">
          <label cLabel for="note">Ghi Chú: </label>
          <textarea cFormControl formControlName="note" rows="3"></textarea>
          <div *ngIf="noteUpdateForm?.invalid && (noteUpdateForm?.dirty || noteUpdateForm?.touched)"
            class="text-danger">
            <div *ngIf="noteUpdateForm?.hasError('maxlength')">
              Maximum 500 characters.
            </div>
          </div>
        </div>
                <div class="mb-2">
          <label cLabel for="note">Hình Ảnh:</label>
          <input class="d-none"  id="updateUploadImage" type="file"  accept="image/*" (change)="onChangeUploadImage($event,'update')" />
          <div class="mt-2 reviewImage" (click)="openFileInput('update')">
            <ng-container *ngIf="!reviewUpdateUploadImage">
              <svg [cIcon]="icons.cilCloudUpload" width="140" title="Shield Icon"></svg>
            </ng-container>
            <div  *ngIf="reviewUpdateUploadImage" [innerHTML]="reviewUpdateUploadImage" class="w-100 h-100 d-flex justify-content-center align-items-center"></div>
          </div>
        </div>
      </div>
    </c-modal-body>
    <c-modal-footer>
      <button (click)="toggleLiveUpdateModel()" cButton color="secondary">
        Đóng
      </button>
      <button cButton type="submit" [disabled]="!updateForm.valid" color="primary">Lưu</button>
    </c-modal-footer>
  </form>
</c-modal>
<!--Delete Mall Model-->
<c-modal backdrop="static" [visible]="visibleDelete" (visibleChange)="handleLiveDeleteChange($event)"
  id="verticallyCenteredDelete">
  <c-modal-header>
    <h5 cModalTitle>Xác Nhận Trung Tâm Thương Mại</h5>
    <button (click)="toggleLiveDelete()" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <p>Bạn có chắc là muốn trung tâm thương mại này?</p>
  </c-modal-body>
  <c-modal-footer>
    <button (click)="toggleLiveDelete()" cButton color="secondary">
      Đóng
    </button>
    <button (click)="onConfirmDelete()" cButton color="primary">Xác Nhận</button>
  </c-modal-footer>
</c-modal>
<!-- Create Location Modal -->
<c-modal backdrop="static" [visible]="visibleCreateLocationModal" (visibleChange)="handleLiveCreateLocationModelChange($event)"
  id="verticallyCenteredCreateLocationModal" size="lg">
  <c-modal-header>
    <h5 cModalTitle>Thêm Vị Tri</h5>
    <button (click)="toggleLiveCreateLocationModel()" cButtonClose></button>
  </c-modal-header>
  <form cForm [formGroup]="createLocationForm" (ngSubmit)="onSubmitCreateLocationForm()">
    <c-modal-body>
      <div class="mb-2 d-flex flex-row">
        <c-form-check class="me-2 d-flex align-items-center">
          <input cFormCheckInput formControlName="isActive" id="isActiveLocation" class="me-2" type="checkbox" />
          <label cFormCheckLabel for="isActiveLocation" class="me-2">Hoạt Động</label>
        </c-form-check>
      </div>
      <div class="mb-2 row">
        <div class="col-6">
          <label cLabel for="codeLocation">Mã: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="code" id="codeLocation">
        </div>
        <div class="col-6">
          <label cLabel for="nameLocation">Tên: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="name" id="nameLocation">
        </div>
        <div class="mb-2">
          <label cLabel for="noteLocation">Ghi Chú: </label>
          <textarea cFormControl formControlName="note" id="noteLocation" rows="3"></textarea>
        </div>
        <div class="mb-2">
          <label cLabel for="locationImage">Hình Ảnh:</label>
          <input class="d-none" id="createLocationUploadImage" type="file" accept="image/*" (change)="onChangeUploadImage($event, 'createLocation')" />
          <div class="mt-2 reviewImage" (click)="openFileInput('createLocation')">
            <ng-container *ngIf="!reviewCreateLocationUploadImage">
              <svg [cIcon]="icons.cilCloudUpload" width="140" title="Shield Icon"></svg>
            </ng-container>
            <div *ngIf="reviewCreateLocationUploadImage" [innerHTML]="reviewCreateLocationUploadImage" class="w-100 h-100 d-flex justify-content-center align-items-center"></div>
          </div>
        </div>
      </div>
    </c-modal-body>
    <c-modal-footer>
      <button (click)="toggleLiveCreateLocationModel()" cButton color="secondary">Đóng</button>
      <button cButton type="submit" [disabled]="!createLocationForm.valid" color="primary">Lưu</button>
    </c-modal-footer>
  </form>
</c-modal>
<!-- Update Area Modal -->
<c-modal backdrop="static" [visible]="visibleUpdateAreaModal" (visibleChange)="handleLiveUpdateAreaModelChange($event)"
  id="verticallyCenteredUpdateAreaModal" size="lg">
  <c-modal-header>
    <h5 cModalTitle>Cập Nhật Khu Vực</h5>
    <button (click)="toggleLiveUpdateAreaModel()" cButtonClose></button>
  </c-modal-header>
  <form cForm [formGroup]="updateAreaForm" (ngSubmit)="onSubmitUpdateAreaForm()">
    <c-modal-body>
      <div class="mb-2 d-flex flex-row">
        <c-form-check class="me-2 d-flex align-items-center">
          <input cFormCheckInput formControlName="isActive" id="isActiveAreaUpdate" class="me-2" type="checkbox" />
          <label cFormCheckLabel for="isActiveAreaUpdate" class="me-2">Hoạt Động</label>
        </c-form-check>
      </div>
      <div class="mb-2 row">
        <div class="col-6">
          <label cLabel for="codeAreaUpdate">Mã: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="code" id="codeAreaUpdate">
        </div>
        <div class="col-6">
          <label cLabel for="nameAreaUpdate">Tên: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="name" id="nameAreaUpdate">
        </div>
        <div class="col-12">
          <label cLabel for="areaSizeUpdate">Diện Tích: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="areaSize" id="areaSizeUpdate" type="number">
        </div>
        <div class="mb-2">
          <label cLabel for="noteAreaUpdate">Ghi Chú: </label>
          <textarea cFormControl formControlName="note" id="noteAreaUpdate" rows="3"></textarea>
        </div>
        <div class="mb-2">
          <label cLabel for="areaImageUpdate">Hình Ảnh:</label>
          <input class="d-none" id="updateAreaUploadImage" type="file" accept="image/*" (change)="onChangeUploadImage($event, 'updateArea')" />
          <div class="mt-2 reviewImage" (click)="openFileInput('updateArea')">
            <ng-container *ngIf="!reviewUpdateAreaUploadImage">
              <svg [cIcon]="icons.cilCloudUpload" width="140" title="Shield Icon"></svg>
            </ng-container>
            <div *ngIf="reviewUpdateAreaUploadImage" [innerHTML]="reviewUpdateAreaUploadImage" class="w-100 h-100 d-flex justify-content-center align-items-center"></div>
          </div>
        </div>
      </div>
    </c-modal-body>
    <c-modal-footer>
      <button (click)="toggleLiveUpdateAreaModel()" cButton color="secondary">Đóng</button>
      <button cButton type="submit" [disabled]="!updateAreaForm.valid" color="primary">Lưu</button>
    </c-modal-footer>
  </form>
</c-modal>
<!-- Delete Location Modal -->
<c-modal backdrop="static" [visible]="visibleDeleteLocation" (visibleChange)="handleLiveDeleteLocationChange($event)"
  id="verticallyCenteredDeleteLocation">
  <c-modal-header>
    <h5 cModalTitle>Xác Nhận Xóa Vị Trí</h5>
    <button (click)="toggleLiveDeleteLocation()" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <p>Bạn có chắc là muốn xóa vị trí này?</p>
  </c-modal-body>
  <c-modal-footer>
    <button (click)="toggleLiveDeleteLocation()" cButton color="secondary">Đóng</button>
    <button (click)="onConfirmDeleteLocation()" cButton color="primary">Xác Nhận</button>
  </c-modal-footer>
</c-modal>
<!-- Create Area Modal -->
<c-modal backdrop="static" [visible]="visibleCreateAreaModal" (visibleChange)="handleLiveCreateAreaModelChange($event)"
  id="verticallyCenteredCreateAreaModal" size="lg">
  <c-modal-header>
    <h5 cModalTitle>Thêm Khu Vực</h5>
    <button (click)="toggleLiveCreateAreaModel()" cButtonClose></button>
  </c-modal-header>
  <form cForm [formGroup]="createAreaForm" (ngSubmit)="onSubmitCreateAreaForm()">
    <c-modal-body>
      <div class="mb-2 d-flex flex-row">
        <c-form-check class="me-2 d-flex align-items-center">
          <input cFormCheckInput formControlName="isActive" id="isActiveArea" class="me-2" type="checkbox" />
          <label cFormCheckLabel for="isActiveArea" class="me-2">Hoạt Động</label>
        </c-form-check>
      </div>
      <div class="mb-2 row">
        <div class="col-6">
          <label cLabel for="codeArea">Mã: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="code" id="codeArea">
        </div>
        <div class="col-6">
          <label cLabel for="nameArea">Tên: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="name" id="nameArea">
        </div>
        <div class="col-12">
          <label cLabel for="areaSize">Diện Tích: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="areaSize" id="areaSize" type="number">
        </div>
        <div class="mb-2">
          <label cLabel for="noteArea">Ghi Chú: </label>
          <textarea cFormControl formControlName="note" id="noteArea" rows="3"></textarea>
        </div>
        <div class="mb-2">
          <label cLabel for="areaImage">Hình Ảnh:</label>
          <input class="d-none" id="createAreaUploadImage" type="file" accept="image/*" (change)="onChangeUploadImage($event, 'createArea')" />
          <div class="mt-2 reviewImage" (click)="openFileInput('createArea')">
            <ng-container *ngIf="!reviewCreateAreaUploadImage">
              <svg [cIcon]="icons.cilCloudUpload" width="140" title="Shield Icon"></svg>
            </ng-container>
            <div *ngIf="reviewCreateAreaUploadImage" [innerHTML]="reviewCreateAreaUploadImage" class="w-100 h-100 d-flex justify-content-center align-items-center"></div>
          </div>
        </div>
      </div>
    </c-modal-body>
    <c-modal-footer>
      <button (click)="toggleLiveCreateAreaModel()" cButton color="secondary">Đóng</button>
      <button cButton type="submit" [disabled]="!createAreaForm.valid" color="primary">Lưu</button>
    </c-modal-footer>
  </form>
</c-modal>
<!-- Update Area Modal -->
<c-modal backdrop="static" [visible]="visibleUpdateAreaModal" (visibleChange)="handleLiveUpdateAreaModelChange($event)"
  id="verticallyCenteredUpdateAreaModal" size="lg">
  <c-modal-header>
    <h5 cModalTitle>Cập Nhật Khu Vực</h5>
    <button (click)="toggleLiveUpdateAreaModel()" cButtonClose></button>
  </c-modal-header>
  <form cForm [formGroup]="updateAreaForm" (ngSubmit)="onSubmitUpdateAreaForm()">
    <c-modal-body>
      <div class="mb-2 d-flex flex-row">
        <c-form-check class="me-2 d-flex align-items-center">
          <input cFormCheckInput formControlName="isActive" id="isActiveAreaUpdate" class="me-2" type="checkbox" />
          <label cFormCheckLabel for="isActiveAreaUpdate" class="me-2">Hoạt Động</label>
        </c-form-check>
      </div>
      <div class="mb-2 row">
        <div class="col-6">
          <label cLabel for="codeAreaUpdate">Mã: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="code" id="codeAreaUpdate">
        </div>
        <div class="col-6">
          <label cLabel for="nameAreaUpdate">Tên: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="name" id="nameAreaUpdate">
        </div>
        <div class="col-12">
          <label cLabel for="areaSizeUpdate">Diện Tích: <span class="text-danger">(*)</span></label>
          <input cFormControl formControlName="areaSize" id="areaSizeUpdate" type="number">
        </div>
        <div class="mb-2">
          <label cLabel for="noteAreaUpdate">Ghi Chú: </label>
          <textarea cFormControl formControlName="note" id="noteAreaUpdate" rows="3"></textarea>
        </div>
        <div class="mb-2">
          <label cLabel for="areaImageUpdate">Hình Ảnh:</label>
          <input class="d-none" id="updateAreaUploadImage" type="file" accept="image/*" (change)="onChangeUploadImage($event, 'updateArea')" />
          <div class="mt-2 reviewImage" (click)="openFileInput('updateArea')">
            <ng-container *ngIf="!reviewUpdateAreaUploadImage">
              <svg [cIcon]="icons.cilCloudUpload" width="140" title="Shield Icon"></svg>
            </ng-container>
            <div *ngIf="reviewUpdateAreaUploadImage" [innerHTML]="reviewUpdateAreaUploadImage" class="w-100 h-100 d-flex justify-content-center align-items-center"></div>
          </div>
        </div>
      </div>
    </c-modal-body>
    <c-modal-footer>
      <button (click)="toggleLiveUpdateAreaModel()" cButton color="secondary">Đóng</button>
      <button cButton type="submit" [disabled]="!updateAreaForm.valid" color="primary">Lưu</button>
    </c-modal-footer>
  </form>
</c-modal>
<!-- Delete Area Modal -->
<c-modal backdrop="static" [visible]="visibleDeleteArea" (visibleChange)="handleLiveDeleteAreaChange($event)"
  id="verticallyCenteredDeleteArea">
  <c-modal-header>
    <h5 cModalTitle>Xác Nhận Xóa Khu Vực</h5>
    <button (click)="toggleLiveDeleteArea()" cButtonClose></button>
  </c-modal-header>
  <c-modal-body>
    <p>Bạn có chắc là muốn xóa khu vực này?</p>
  </c-modal-body>
  <c-modal-footer>
    <button (click)="toggleLiveDeleteArea()" cButton color="secondary">Đóng</button>
    <button (click)="onConfirmDeleteArea()" cButton color="primary">Xác Nhận</button>
  </c-modal-footer>
</c-modal>
