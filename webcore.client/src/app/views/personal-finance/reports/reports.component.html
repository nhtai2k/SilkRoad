<app-widgets-dropdown />

<c-card class="mt-4">
  <c-card-header class="bg-dark">
    <div class="d-flex justify-content-between align-items-center">
      <span class="fw-bold text-white">
        Expense Report
      </span>
      @if(reportForm.value.type === 'month') {
      <input class="form-control w-25" type="month" [(ngModel)]="selectedDate" (change)="onDateChange($event)" />
      }
      @else{
      <select class="form-select w-25" [(ngModel)]="selectedYear" cSelect (change)="onYearChange($event)">
        @for(year of years; track year) {
        <option [value]="year">{{ year }}</option>
        }
      </select>
      }
      <form [formGroup]="reportForm">
        <c-button-group aria-label="Basic radio toggle button group" role="group" class="me-2">
          <input class="btn-check" formControlName="type" type="radio" value="month" />
          <label (click)="setRadioValue('month')" cButton cFormCheckLabel variant="outline">Month</label>
          <input class="btn-check" formControlName="type" type="radio" value="year" />
          <label (click)="setRadioValue('year')" cButton cFormCheckLabel variant="outline">Year</label>
        </c-button-group>
        <button type="button" cButton class="float-end" color="primary" aria-label="Download">
          <svg cIcon name="cilCloudDownload"></svg>
        </button>
      </form>
    </div>
  </c-card-header>
  <c-card-body>
    @if(expenseReportColoums && expenseReportColoums.length > 0){
    <app-coloumn-chart [data]="expenseReportColoums" [id]="0"></app-coloumn-chart>
    }
  </c-card-body>
</c-card>

<div class="my-4 row">
  <div class="col-8">
    <c-card>
      <c-card-header class="bg-dark">
        <span class="fw-bold text-white">
          Asset Report
        </span>
      </c-card-header>
      <c-card-body>
        @if(assetReportColoums && assetReportColoums.length > 0){
        <app-coloumn-chart [data]="assetReportColoums" [id]="1"></app-coloumn-chart>
        }
      </c-card-body>
    </c-card>
  </div>
  <div class="col-4">
    <c-card>
      <c-card-header class="bg-dark">
        <span class="fw-bold text-white">
          Asset Report
        </span>
      </c-card-header>
      <c-card-body>
        @if(assetReportPie && assetReportPie.length > 0){
        <app-pie-chart [data]="assetReportPie" [id]="0"></app-pie-chart>
        }
      </c-card-body>
    </c-card>
  </div>
</div>

<c-card class="mt-4">
  <c-card-header class="bg-dark">
    <div class="d-flex justify-content-between align-items-center">
      <span class="fw-bold text-white">
        Resource Report
      </span>
      <select class="form-select w-25">
        @for(year of years; track year) {
        <option [value]="year">{{ year }}</option>
        }
      </select>
    </div>
  </c-card-header>
  <c-card-body>
    <app-clustered-column-chart [data]="resourceClusteredColumns" [series]="resourceChartSeries" [id]="1"
      categoryField="month" [showLegend]="true">
    </app-clustered-column-chart>
  </c-card-body>
</c-card>