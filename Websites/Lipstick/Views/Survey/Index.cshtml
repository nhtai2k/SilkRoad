@* model SurveyUIViewModel
@{
	Layout = null;
}
<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
	<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="~/css/survey.min.css" asp-append-version="true" />
	<link rel="stylesheet" href="~/assets/icons/themify-icons/themify-icons.css" />
</head>
<body id="body">
	<div class="page-container">
		<div class="surveyForm">
			<h4 class="surveyTitle text-uppercase">@Model.Title</h4>
			<p class="surveyDescription">@Model.Description</p>

			<form asp-action="Index" method="post">
				<input asp-for="ID" class="form-control" readonly hidden />
				<input asp-for="Title" class="form-control" readonly hidden />
				<input asp-for="Description" class="form-control" readonly hidden />
				<input asp-for="SurveyFormID" class="form-control" readonly hidden />
				<div class="form-group mb-2">
					<label asp-for="FullName" class="control-label text-capitalize">@_localizer["fullName"]: <span class="text-danger">(*)</span></label>
					<input asp-for="FullName" class="form-control" autocomplete="off" />
					<span asp-validation-for="FullName" class="text-danger"></span>
				</div>
				<div class="form-group mb-2">
					<label asp-for="PhoneNumber" class="control-label text-capitalize">@_localizer["phoneNumber"]: <span class="text-danger">(*)</span></label>
					<input asp-for="PhoneNumber" class="form-control" autocomplete="off" />
					<span asp-validation-for="PhoneNumber" class="text-danger"></span>
				</div>
				<div class="form-group mb-2">
					<label asp-for="Email" class="control-label text-capitalize">Email: </label>
					<input asp-for="Email" class="form-control" autocomplete="off" />
					<span asp-validation-for="Email" class="text-danger"></span>
				</div>
				@for (int i = 0; i < Model.QuestionGroupUIs.Count(); i++)
				{
					<div class="questionGroupContainer mb-2 mt-4" id="questionGroup_@i">
						<input asp-for="QuestionGroupUIs[i].QuestionGroupID" class="form-control" autocomplete="off" type="hidden" />
						<input asp-for="QuestionGroupUIs[i].QuestionGroupName" class="form-control" autocomplete="off" type="hidden" />
						<span class="questionGroupName">@Model.QuestionGroupUIs[i].QuestionGroupName</span>
						@for (int j = 0; j < Model.QuestionGroupUIs[i].QuestionUIs.Count(); j++)
						{
							<div class="questionContainer mb-2">
								<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].QuestionTypeID" class="form-control" readonly type="hidden" />
								<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].QuestionID" class="form-control" readonly type="hidden" />
								<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].QuestionName" class="form-control" readonly type="hidden" />
								<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].SelectQuestionID" class="form-control" readonly type="hidden" />
								<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].Point" class="form-control" readonly type="hidden" />
								<span> @(j + 1). @Model.QuestionGroupUIs[i].QuestionUIs[j].QuestionName</span>
								<div class="answerList">
									@if (Model.QuestionGroupUIs[i].QuestionUIs[j].QuestionTypeID == (int)EQuestionType.Option)
									{
										<div>
											@for (int z = 0; z < Model.QuestionGroupUIs[i].QuestionUIs[j].Answers.Count(); z++)
											{
												<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].Answers[z].ID" class="form-control" readonly type="hidden" />
												<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].Answers[z].Point" class="form-control" readonly type="hidden" />
												<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].Answers[z].Name" class="form-control" readonly type="hidden" />
												<input type="radio" id="QuestionGroupUIs[@i].QuestionUIs[@j].Answers[@z]"
													asp-for="QuestionGroupUIs[i].QuestionUIs[j].AnswerID"
													value="@Model.QuestionGroupUIs[i].QuestionUIs[j].Answers[z].ID"
													onclick="SetPoint('QuestionGroupUIs_@(i)__QuestionUIs_@(j)__Point',@Model.QuestionGroupUIs[i].QuestionUIs[j].Answers[z].Point)" />
												<label class="answerLabel me-4" for="QuestionGroupUIs[@i].QuestionUIs[@j].Answers[@z]">@Model.QuestionGroupUIs[i].QuestionUIs[j].Answers[z].Name</label>
											}
										</div>
									}
									else if (Model.QuestionGroupUIs[i].QuestionUIs[j].QuestionTypeID == (int)EQuestionType.Open)
									{
										<div class="mt-2">
											<textarea asp-for="QuestionGroupUIs[i].QuestionUIs[j].AnswerOfCustomer" class="form-control" rows="3"></textarea>
										</div>
									}
									else if (Model.QuestionGroupUIs[i].QuestionUIs[j].QuestionTypeID == (int)EQuestionType.OptionOpen)
									{
										<div>
											@for (int z = 0; z < Model.QuestionGroupUIs[i].QuestionUIs[j].Answers.Count(); z++)
											{
												<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].Answers[z].ID" class="form-control" readonly type="hidden" />
												<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].Answers[z].Point" class="form-control" readonly type="hidden" />
												<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].Answers[z].Name" class="form-control" readonly type="hidden" />
												<input type="radio" id="QuestionGroupUIs[@i].QuestionUIs[@j].Answers[@z]"
													   asp-for="QuestionGroupUIs[i].QuestionUIs[j].AnswerID"
													   value="@Model.QuestionGroupUIs[i].QuestionUIs[j].Answers[z].ID"
													   onclick="SetPoint('QuestionGroupUIs_@(i)__QuestionUIs_@(j)__Point',@Model.QuestionGroupUIs[i].QuestionUIs[j].Answers[z].Point)" />
												<label class="answerLabel me-4" for="questionGroup_[@i]_question_[@j]_answer_[@z]">@Model.QuestionGroupUIs[i].QuestionUIs[j].Answers[z].Name</label>
											}
										</div>
										<div class="mt2">
											<textarea asp-for="QuestionGroupUIs[i].QuestionUIs[j].AnswerOfCustomer" class="form-control" rows="3"></textarea>
										</div>
									}
									else if (Model.QuestionGroupUIs[i].QuestionUIs[j].QuestionTypeID == (int)EQuestionType.Rating)
									{
										<div class="rating">
											@for (int z = 5; z >= 1; z--)
											{
												<input asp-for="QuestionGroupUIs[i].QuestionUIs[j].Rating" value="@z" type="radio" id="questionGroup_[@i]_question_[@j]_answer[@z]" />
												<label for="questionGroup_[@i]_question_[@j]_answer[@z]"></label>
											}

										</div>
									}
								</div>
							</div>
						}
					</div>
				}
				<div class="buttonSubmit d-flex justify-content-center align-items-center">
					<button type="submit" class="btn btn-submit text-capitalize mb-3">@_localizer["submit"]</button>
				</div>
			</form>
		</div>
	</div>
</body>
</html>
@section Scripts {
	@{
		await Html.RenderPartialAsync("_ValidationScriptsPartial");
	}
}
<script>
	function SetPoint(id, point) {
		console.log(id);
		console.log(point);
		$(`#${id}`).val(point);
	}
</script>
 *@